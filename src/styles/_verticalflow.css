/* ============================================
   VERTICAL FLOW
   Margins between block elements and .flow utility.
   Uses @layer typography for same cascade position.
   ============================================ */

@layer typography {

    /* ----------- Heading Spacing ----------- */

  :where(:is(h1, h2, h3, h4, h5, h6)) {
    margin-top: 1.5em;
  }

  /* ----------- Base Prose Element Spacing ----------- */

  :where(p, ul, ol, blockquote, pre, figure, table) {
    margin-top: 1.25em;

    &:first-child {
      margin-top: 0;
    }
  }

  /* ----------- HR ----------- */

  :where(hr) {
    margin-block: var(--space-xl);
  }

  /* ----------- Footnotes ----------- */

  :where(.footnotes) {
    margin-top: var(--space-2xl);
  }

  /* ----------- Flow Utility ----------- */
  /* Consistent vertical spacing for prose containers */

  .flow {
    & > * + * {
      margin-top: 1.25em;
    }

    & > * + :is(h1, h2) {
      margin-top: 3em;
      background-color: red;
    }

    & > * + h3 {
      margin-top: 2em;
      background-color: blue;
    }
  }
}
