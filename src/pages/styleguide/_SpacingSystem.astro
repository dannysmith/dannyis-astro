---
/**
 * Design Tokens partial - displays spacing, typography, border, and motion tokens
 * All values are displayed via CSS variables so they update automatically
 */
import { SpacingScale } from '@components/styleguide';

// Simple arrays of token names - no hardcoded values
const fontFamilies = [
  { name: 'Prose', variable: '--font-prose', description: 'Body text, articles' },
  { name: 'UI', variable: '--font-ui', description: 'Navigation, labels, UI' },
  { name: 'Code', variable: '--font-code', description: 'Code blocks, inline code' },
];

const fontSizes = ['xs', 'sm', 'base', 'md', 'lg', 'xl', '2xl', '3xl'];
const lineHeights = ['none', 'tight', 'snug', 'normal', 'loose'];
const letterSpacings = ['tight', 'normal', 'wide', 'wider'];
const fontWeights = ['light', 'normal', 'regular', 'medium', 'semibold', 'bold'];
const borderWidths = ['hairline', 'base', 'thick', 'heavy', 'accent'];
const borderRadii = ['xs', 'sm', 'md', 'lg', 'full'];
const durations = ['fast', 'normal', 'slow'];
const shadows = ['small', 'medium'];
---

<section id="spacing" class="styleguide-section flow">
  <h2>Design Tokens</h2>
  <p>
    Spacing, typography, borders, and motion tokens that provide consistent rhythm and visual
    harmony across the site. All values use fluid scaling via <code>clamp()</code> for responsive
    behavior.
  </p>

  <!-- Spacing Scale -->
  <div class="token-subsection">
    <h3>Spacing Scale</h3>
    <p>
      Generated using <a href="https://utopia.fyi/space/calculator">Utopia</a>. Base scale provides
      consistent spacing; fluid pairs smoothly interpolate between sizes based on viewport.
    </p>
    <SpacingScale />
  </div>

  <!-- Typography Tokens -->
  <div class="token-subsection">
    <h3>Typography</h3>

    <h4>Font Families</h4>
    <div class="font-families">
      {fontFamilies.map(({ name, variable, description }) => (
        <div class="font-family-item">
          <span class="font-preview" style={`font-family: var(${variable})`}>
            The quick brown fox jumps over the lazy dog
          </span>
          <div class="font-meta">
            <span class="font-name">{name}</span>
            <code class="font-variable">{variable}</code>
            <span class="font-description">{description}</span>
          </div>
        </div>
      ))}
    </div>

    <h4>Font Sizes</h4>
    <p>Fluid type scale using <a href="https://utopia.fyi/type/calculator">Utopia</a>.</p>
    <div class="font-sizes">
      {fontSizes.map((size) => {
        const variable = `--font-size-${size}`;
        return (
          <div class="font-size-item">
            <span class="size-name">{size}</span>
            <span class="size-preview" style={`font-size: var(${variable})`}>Aa</span>
            <code class="size-variable">{variable}</code>
          </div>
        );
      })}
    </div>

    <h4>Line Heights</h4>
    <div class="line-heights">
      {lineHeights.map((name) => {
        const variable = `--leading-${name}`;
        return (
          <div class="line-height-item">
            <span class="lh-name">{name}</span>
            <span class="lh-preview" style={`line-height: var(${variable})`}>Line<br/>Height</span>
            <code class="lh-variable">{variable}</code>
          </div>
        );
      })}
    </div>

    <h4>Letter Spacing</h4>
    <div class="letter-spacings">
      {letterSpacings.map((name) => {
        const variable = `--tracking-${name}`;
        return (
          <div class="tracking-item">
            <span class="tracking-name">{name}</span>
            <span class="tracking-preview" style={`letter-spacing: var(${variable})`}>SPACING</span>
            <code class="tracking-variable">{variable}</code>
          </div>
        );
      })}
    </div>

    <h4>Font Weights</h4>
    <div class="font-weights">
      {fontWeights.map((name) => {
        const variable = `--font-weight-${name}`;
        return (
          <div class="weight-item">
            <span class="weight-name">{name}</span>
            <span class="weight-preview" style={`font-weight: var(${variable})`}>Aa</span>
            <code class="weight-variable">{variable}</code>
          </div>
        );
      })}
    </div>
  </div>

  <!-- Border & Radius -->
  <div class="token-subsection">
    <h3>Borders & Radius</h3>

    <h4>Border Widths</h4>
    <div class="border-widths">
      {borderWidths.map((name) => {
        const variable = `--border-width-${name}`;
        return (
          <div class="border-item">
            <span class="border-name">{name}</span>
            <div class="border-preview">
              <div class="border-line" style={`border-bottom-width: var(${variable})`} />
            </div>
            <code class="border-variable">{variable}</code>
          </div>
        );
      })}
    </div>

    <h4>Border Radii</h4>
    <div class="border-radii">
      {borderRadii.map((name) => {
        const variable = `--radius-${name}`;
        return (
          <div class="radius-item">
            <span class="radius-name">{name}</span>
            <div class="radius-preview" style={`border-radius: var(${variable})`} />
            <code class="radius-variable">{variable}</code>
          </div>
        );
      })}
    </div>
  </div>

  <!-- Motion & Shadows -->
  <div class="token-subsection">
    <h3>Motion & Shadows</h3>

    <h4>Durations</h4>
    <p>Animation timing tokens. Hover each bar to see the transition speed.</p>
    <div class="durations">
      {durations.map((name) => {
        const variable = `--duration-${name}`;
        return (
          <div class="duration-item">
            <span class="duration-name">{name}</span>
            <div class="duration-preview">
              <div class="duration-bar" style={`transition-duration: var(${variable})`} />
            </div>
            <code class="duration-variable">{variable}</code>
          </div>
        );
      })}
    </div>

    <h4>Easing</h4>
    <div class="easing-item">
      <span class="easing-name">in-out</span>
      <code class="easing-variable">--ease-in-out</code>
      <div class="easing-demo" title="Hover to see easing curve in action">
        <div class="easing-ball" />
      </div>
    </div>

    <h4>Shadows</h4>
    <div class="shadows">
      {shadows.map((name) => {
        const variable = `--shadow-${name}`;
        return (
          <div class="shadow-item">
            <div class="shadow-preview" style={`filter: var(${variable})`}>
              <span>{name}</span>
            </div>
            <code class="shadow-variable">{variable}</code>
          </div>
        );
      })}
    </div>
  </div>
</section>

<style>
  .token-subsection {
    margin-top: var(--space-xl);
  }

  .token-subsection:first-of-type {
    margin-top: var(--space-m);
  }

  .token-subsection h3 {
    margin-top: 0;
  }

  .token-subsection h4 {
    margin-top: var(--space-l);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    text-transform: uppercase;
    letter-spacing: var(--tracking-wide);
    color: var(--color-text-secondary);
    border-bottom: none;
    padding-bottom: 0;
  }

  /* Font families */
  .font-families {
    display: flex;
    flex-direction: column;
    gap: var(--space-m);
  }

  .font-family-item {
    padding: var(--space-s);
    background-color: var(--color-background-secondary);
    border-radius: var(--radius-sm);
  }

  .font-preview {
    display: block;
    font-size: var(--font-size-lg);
    margin-bottom: var(--space-xs);
  }

  .font-meta {
    display: flex;
    flex-wrap: wrap;
    gap: var(--space-s);
    font-family: var(--font-ui);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  .font-name {
    font-weight: var(--font-weight-semibold);
    color: var(--color-text);
  }

  .font-variable {
    font-family: var(--font-code);
  }

  /* Font sizes */
  .font-sizes {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .font-size-item {
    display: grid;
    grid-template-columns: 3rem 4rem 1fr;
    align-items: baseline;
    gap: var(--space-s);
    font-family: var(--font-ui);
  }

  .size-name {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
  }

  .size-preview {
    font-family: var(--font-prose);
  }

  .size-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Line heights */
  .line-heights {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(6rem, 1fr));
    gap: var(--space-m);
  }

  .line-height-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-3xs);
    font-family: var(--font-ui);
  }

  .lh-name {
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  .lh-preview {
    font-size: var(--font-size-sm);
    padding: var(--space-xs);
    background-color: var(--color-background-secondary);
    border-radius: var(--radius-xs);
  }

  .lh-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Letter spacing */
  .letter-spacings {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));
    gap: var(--space-m);
  }

  .tracking-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-3xs);
    font-family: var(--font-ui);
  }

  .tracking-name {
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  .tracking-preview {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
  }

  .tracking-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Font weights */
  .font-weights {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(8rem, 1fr));
    gap: var(--space-m);
  }

  .weight-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-3xs);
    font-family: var(--font-ui);
  }

  .weight-name {
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  .weight-preview {
    font-size: var(--font-size-xl);
    font-family: var(--font-prose);
  }

  .weight-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Border widths */
  .border-widths {
    display: flex;
    flex-direction: column;
    gap: var(--space-s);
  }

  .border-item {
    display: grid;
    grid-template-columns: 5rem 1fr auto;
    align-items: center;
    gap: var(--space-s);
    font-family: var(--font-ui);
    font-size: var(--font-size-sm);
  }

  .border-name {
    font-weight: var(--font-weight-medium);
  }

  .border-preview {
    padding: var(--space-2xs) 0;
  }

  .border-line {
    border-bottom-style: solid;
    border-bottom-color: var(--color-accent);
  }

  .border-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Border radii */
  .border-radii {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(6rem, 1fr));
    gap: var(--space-m);
  }

  .radius-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-3xs);
    font-family: var(--font-ui);
  }

  .radius-name {
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  .radius-preview {
    width: 4rem;
    height: 4rem;
    background-color: var(--color-accent);
  }

  .radius-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Durations */
  .durations {
    display: flex;
    flex-direction: column;
    gap: var(--space-s);
  }

  .duration-item {
    display: grid;
    grid-template-columns: 4rem 8rem auto;
    align-items: center;
    gap: var(--space-s);
    font-family: var(--font-ui);
    font-size: var(--font-size-sm);
  }

  .duration-name {
    font-weight: var(--font-weight-medium);
  }

  .duration-preview {
    height: var(--space-s);
    background-color: var(--color-background-secondary);
    border-radius: var(--radius-xs);
    overflow: hidden;
  }

  .duration-bar {
    width: 20%;
    height: 100%;
    background-color: var(--color-accent);
    transition-property: width;
    transition-timing-function: var(--ease-in-out);
  }

  .duration-preview:hover .duration-bar {
    width: 100%;
  }

  .duration-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Easing */
  .easing-item {
    display: flex;
    align-items: center;
    gap: var(--space-m);
    font-family: var(--font-ui);
    font-size: var(--font-size-sm);
    padding: var(--space-s);
    background-color: var(--color-background-secondary);
    border-radius: var(--radius-sm);
  }

  .easing-name {
    font-weight: var(--font-weight-medium);
  }

  .easing-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  .easing-demo {
    width: 8rem;
    height: var(--space-s);
    background-color: var(--color-background);
    border-radius: var(--radius-xs);
    overflow: hidden;
    position: relative;
  }

  .easing-ball {
    position: absolute;
    left: 0;
    width: var(--space-s);
    height: var(--space-s);
    background-color: var(--color-accent);
    border-radius: var(--radius-full);
    transition: left var(--duration-slow) var(--ease-in-out);
  }

  .easing-demo:hover .easing-ball {
    left: calc(100% - var(--space-s));
  }

  /* Shadows */
  .shadows {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(10rem, 1fr));
    gap: var(--space-l);
  }

  .shadow-item {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .shadow-preview {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 100%;
    aspect-ratio: 2 / 1;
    background-color: var(--surface-raised);
    border-radius: var(--radius-sm);
    font-family: var(--font-ui);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
  }

  .shadow-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
  }

  /* Responsive adjustments */
  @media (max-width: 640px) {
    .font-size-item,
    .border-item,
    .duration-item {
      grid-template-columns: 1fr;
      gap: var(--space-2xs);
    }
  }
</style>
