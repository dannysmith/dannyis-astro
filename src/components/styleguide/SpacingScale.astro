---
/**
 * SpacingScale - Visual representation of spacing tokens
 * Used in the styleguide to display the spacing scale
 */

export interface Props {
  /** Which spacing tokens to display */
  tokens?: Array<{ name: string; variable: string }>;
}

const defaultTokens = [
  { name: '3xs', variable: '--space-3xs' },
  { name: '2xs', variable: '--space-2xs' },
  { name: 'xs', variable: '--space-xs' },
  { name: 's', variable: '--space-s' },
  { name: 'm', variable: '--space-m' },
  { name: 'l', variable: '--space-l' },
  { name: 'xl', variable: '--space-xl' },
  { name: '2xl', variable: '--space-2xl' },
  { name: '3xl', variable: '--space-3xl' },
];

const pairTokens = [
  { name: '3xs-2xs', variable: '--space-3xs-2xs' },
  { name: '2xs-xs', variable: '--space-2xs-xs' },
  { name: 'xs-s', variable: '--space-xs-s' },
  { name: 's-m', variable: '--space-s-m' },
  { name: 'm-l', variable: '--space-m-l' },
  { name: 'l-xl', variable: '--space-l-xl' },
  { name: 'xl-2xl', variable: '--space-xl-2xl' },
  { name: '2xl-3xl', variable: '--space-2xl-3xl' },
];

const { tokens = defaultTokens } = Astro.props;
---

<div class="spacing-scale">
  <h4>Base Scale</h4>
  <div class="spacing-list">
    {
      tokens.map(({ name, variable }) => (
        <div class="spacing-item">
          <span class="spacing-name">{name}</span>
          <div class="spacing-bar" style={`width: var(${variable})`} />
          <code class="spacing-variable">{variable}</code>
        </div>
      ))
    }
  </div>

  <h4>Fluid Pairs</h4>
  <p class="spacing-description">
    These tokens smoothly interpolate between two sizes based on viewport width.
  </p>
  <div class="spacing-list">
    {
      pairTokens.map(({ name, variable }) => (
        <div class="spacing-item">
          <span class="spacing-name">{name}</span>
          <div class="spacing-bar spacing-bar-fluid" style={`width: var(${variable})`} />
          <code class="spacing-variable">{variable}</code>
        </div>
      ))
    }
  </div>
</div>

<style>
  .spacing-scale {
    font-family: var(--font-ui);
  }

  .spacing-scale h4 {
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-semibold);
    margin-top: var(--space-l);
    margin-bottom: var(--space-s);
    border-bottom: none;
    padding-bottom: 0;
  }

  .spacing-scale h4:first-child {
    margin-top: 0;
  }

  .spacing-description {
    font-size: var(--font-size-sm);
    color: var(--color-text-secondary);
    margin-bottom: var(--space-s);
  }

  .spacing-list {
    display: flex;
    flex-direction: column;
    gap: var(--space-xs);
  }

  .spacing-item {
    display: grid;
    grid-template-columns: 4rem 1fr auto;
    align-items: center;
    gap: var(--space-s);
  }

  .spacing-name {
    font-weight: var(--font-weight-medium);
    font-size: var(--font-size-sm);
  }

  .spacing-bar {
    height: var(--space-s);
    background-color: var(--color-accent);
    border-radius: var(--radius-xs);
    min-width: 4px;
  }

  .spacing-bar-fluid {
    background: linear-gradient(90deg, var(--color-accent), var(--color-purple));
  }

  .spacing-variable {
    font-family: var(--font-code);
    font-size: var(--font-size-xs);
    color: var(--color-text-secondary);
    white-space: nowrap;
  }
</style>
