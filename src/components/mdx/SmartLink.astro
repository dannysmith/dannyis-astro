---
export interface Props {
  href: string;
  [key: string]: any;
}

const { href, ...props } = Astro.props;

const isExternal = href?.startsWith('http') && !href.includes('danny.is');
---

<a
  href={href}
  target={isExternal ? '_blank' : undefined}
  rel={isExternal ? 'noopener noreferrer' : undefined}
  class:list={[{ external: isExternal }]}
  {...props}><slot /></a
>

<style>
  .external::after {
    content: 'â†—';
    display: inline-block;
    font-family:
      system-ui,
      -apple-system,
      sans-serif; /* System fonts have this glyph */
    font-size: 0.6em;
    font-weight: 600;
    vertical-align: 0.5em;
    margin-inline-start: 0.1em;
    opacity: 0.5;
  }
</style>
