---
export interface Props {
  href: string;
  [key: string]: any;
}

const { href, ...props } = Astro.props;

const isExternal = href?.startsWith('http') && !href.includes('danny.is');
---

<a
  href={href}
  target={isExternal ? '_blank' : undefined}
  rel={isExternal ? 'noopener noreferrer' : undefined}
  class:list={[{ external: isExternal }]}
  {...props}
>
  <slot />
</a>

<style>
  .external::after {
    content: 'â†—';
    display: inline-block;
    font-family: var(--font-ui);
    font-size: 0.6em;
    vertical-align: 0.35em;
    margin-inline-start: -0.2em;
    opacity: 0.5;
  }
</style>
