---
interface Props {
  href: string;
  variant?: 'primary' | 'secondary';
  inline?: boolean;
}

const { href, variant = 'primary', inline = false } = Astro.props;
---

{
  inline ? (
    <a href={href} class="button-link" data-variant={variant}>
      <span class="button-link-text"><slot /></span>
    </a>
  ) : (
    <div class="button-link-container">
      <a href={href} class="button-link" data-variant={variant}>
        <span class="button-link-text"><slot /></span>
      </a>
    </div>
  )
}

<style>
  .button-link-container {
    text-align: center;
  }

  .button-link {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.5ch;
    padding: .8em 1.2em;
    font-family: var(--font-ui);
    font-weight: var(--font-weight-bold);
    text-decoration: none;
    text-transform: uppercase;
    border-radius: var(--radius-sm);
    border: var(--border-width-base) solid var(--color-accent);
    transition: background-color var(--duration-normal) var(--ease-in-out), border-color var(--duration-normal) var(--ease-in-out), color var(--duration-normal) var(--ease-in-out);
    line-height: var(--leading-none);

    &:visited {
      color: inherit;
    }
  }

  /* text-box must be on inline box inside flex container, not the flex container itself */
  .button-link-text {
    text-box: trim-both cap alphabetic;
  }

  [data-variant='primary'] {
    background-color: var(--color-accent);

    &:hover {
      background-color: oklch(from var(--color-accent) calc(l - 0.08) c h);
      border-color: oklch(from var(--color-accent) calc(l - 0.08) c h);
    }
  }

  [data-variant='secondary'] {
    background-color: transparent;
    color: var(--color-text);
    border-color: color-mix(in oklch, var(--color-text) 20%, transparent);

    &:hover {
      border-color: var(--color-accent);
      color: var(--color-accent);
    }
  }
</style>
